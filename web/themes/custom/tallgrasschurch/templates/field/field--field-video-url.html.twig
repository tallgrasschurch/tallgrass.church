{#
/**
 * Custom variables:
 * - items
 *   - video_embed_supported
 *   - video_service
 *   - video_id
 */
#}

{% extends "field.html.twig" %}

{%
  set label_classes = [
    'field__label',
  ]
%}

{% block label %}
  <h3{{ title_attributes.addClass(label_classes) }}>Video</h3>
{% endblock %}
{% block content %}
  {% for item in items %}
    {% if item.video_embed_supported %}
      <div class="field__content embed-responsive embed-responsive-16by9">
        {% if item.video_service == 'youtube' %}
          <iframe src="https://www.youtube.com/embed/{{ item.video_id }}?rel=0" width="560" height="315" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        {% elseif item.video_service == 'vimeo' %}
          <iframe src="https://player.vimeo.com/video/{{ item.video_id }}" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
        {% endif %}
      </div><!-- .field__content -->
    {% else %}
      <div{{ item.attributes.addClass('field__content') }}>
        {{ item.content }}
      </div><!-- .field__content -->
    {% endif %}
  {% endfor %}
{% endblock %}
